(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["registro"],{1965:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("v-card",{attrs:{width:"500px"}},[t("v-card-title",{domProps:{innerHTML:e._s("Registro")}}),t("v-card-text",[t("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[t("v-text-field",{attrs:{label:"Email",type:"email",dense:"",outlined:"",rules:e.emailRules},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}}),t("v-text-field",{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",label:"Contraseña",dense:"",outlined:"",rules:e.passwordRules},on:{"click:append":function(s){e.show1=!e.show1}},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),t("v-text-field",{attrs:{"append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password",label:"Confirmar contraseña",dense:"",outlined:"",rules:e.passwordRules},on:{"click:append":function(s){e.show2=!e.show2}},model:{value:e.password2,callback:function(s){e.password2=s},expression:"password2"}}),t("v-btn",{attrs:{color:"accent",block:"",loading:e.processing},on:{click:function(s){return e.register()}}},[e._v("Registrarse")]),t("v-divider",{staticClass:"my-4"}),t("v-btn",{attrs:{color:"secondary",block:""},on:{click:function(s){return e.$emit("change-mode-login")}}},[e._v("Volver")])],1)],1)],1)},r=[],o=t("ea7b"),i=t("bc3a"),n=t.n(i),d=t("c3e4");const c={sendRegister:function(e,s){return new Promise((function(t,a){n()({method:"post",url:d["a"].apiUrl+"/sendRegister",dataType:"json",data:{email:e,"contraseña":s}}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}};var l=c,u={name:"Registro",data(){return{processing:!1,valid:!0,email:"",password:"",password2:"",show1:!1,show2:!1,emailRules:[e=>!!e||"Email es requerido.",e=>/.+@.+\..+/.test(e)||"Debe ser un email valido."],passwordRules:[e=>!!e||"Contraseña es requerido.",e=>this.password===this.password2||"Las contraseñas deben coincidir."]}},watch:{password(){this.$refs.form.validate()},password2(){this.$refs.form.validate()}},methods:{async register(){if(this.$refs.form.validate(),this.sendMail(this.email,this.password),this.valid){this.processing=!0;try{const e=Object(o["c"])(),s=await Object(o["b"])(e,this.email,this.password);s?(this.$toasted.success("Su registro fue exitoso",{duration:5e3}),this.sendMail()):this.$toasted.error("Error en registro, intentalo de nuevo",{duration:3e3})}catch(e){const s=e.code;"auth/email-already-in-use"===s?this.$toasted.error("Correo ya esta en uso",{duration:3e3}):this.$toasted.error("Error en autenticación",{duration:3e3})}this.processing=!1}},async sendMail(e,s){await l.sendRegister(e,s)}}},p=u,f=t("2877"),w=t("6544"),h=t.n(w),m=t("8336"),v=t("b0af"),b=t("99d9"),g=t("ce7e"),x=t("4bd4"),y=t("8654"),_=Object(f["a"])(p,a,r,!1,null,null,null);s["default"]=_.exports;h()(_,{VBtn:m["a"],VCard:v["a"],VCardText:b["a"],VCardTitle:b["b"],VDivider:g["a"],VForm:x["a"],VTextField:y["a"]})},"99d9":function(e,s,t){"use strict";t.d(s,"a",(function(){return n})),t.d(s,"b",(function(){return d}));var a=t("b0af"),r=t("80d2");const o=Object(r["j"])("v-card__actions"),i=Object(r["j"])("v-card__subtitle"),n=Object(r["j"])("v-card__text"),d=Object(r["j"])("v-card__title");a["a"]}}]);
//# sourceMappingURL=registro.febdbf01.js.map